# MySQL基础

1. 数据库中的事务了解吗？事务的四大特性？

> - 技术点：事务
> - 参考回答：
>   - 事务是并发控制的单位，是用户定义的一个操作序列。它指这些操作要么都做，要么都不做，以便服务器保持数据的完整性。
>   - 事务通常是以BEGIN TRANSACTION开始，以COMMIT或ROLLBACK结束。
>   - 事务的四大特性（ACID特性）：原子性（Atomicity）表示事务中包括的诸操作要么全做，要么全不做；一致性（Consistency）表示事务执行的结果必须是使数据库从一个一致性状态变到另一个一致性状态；隔离性（Isolation）表示一个事务的执行不能被其他事务干扰；持续性（Durability）表示一个事务一旦提交，它对数据库中数据的改变就应该是永久性的
> - 引申：谈谈[数据库事务的并发控制](https://www.jianshu.com/p/478c6dca1b74)

2. 如何理解数据库的范式？

> - 技术点：范式
> - 思路：详见实例讲解[数据库的3大范式和5大约束](https://blog.csdn.net/qq_33862644/article/details/79692652)
> - 参考回答：
>   - 第一范式（1NF）：数据表中的每个字段必须是不可拆分的最小单元，即确保每一列的原子性
>   - 第二范式（2NF）：满足1NF后，要求表中的所有列，都必须依赖于主键，而不能有任何一列与主键没有关系
>   - 第三范式（3NF）：必须先满足第二范式，要求表中的每一列只与主键直接相关而不是间接相关，即表中的每一列只能依赖于主键
>   - 

# MYSQL存储引擎 

1.InnoDB存储引擎

a.支持事务

b.支持行级锁，在处理多重并发更新时具备较高的效率

c.自动灾难恢复，利用事务日志能快速从灾难中恢复

d.可以进行外键约束，支持 Auto_Increment 属性

 

2.MyISAM存储引擎

a.不支持事务，支持全文索引

b.具备高效的查询和插入效率，但是并发更新效率低，使用全表锁。适合管理邮件或日志数据

 

3.MEMORY

a.存储于内存，响应速度快，但守护进程崩溃时数据会全部丢失

b.不支持长度可变的格式，如 bolb text 等类型

c.适用于存放临时数据且数据量较少，丢失不影响服务的情况。

 

4.MERGE

a.MERGE是一组MyISAM表的组合，主要用于聚合几个相同的 MyISAM表的数据用于查询、更新等。

 

5.ARCHIVE

a.用于归档的，只支持插入和查询两种基本功能。5.5以后开始支持索引。

b.具备很好的压缩机制 使用ZLIB压缩库，常用来做仓库使用。

 

## MYSQL主从复制

MYSQL的主从复制是基于binlog的。

1.SLAVE 上启动一个IO线程 根据已经在MASTER上授权的用户去请求MASTER上 binlog日志的更新内容

2.MASTER根据 SLAVE的复制请求，读取指定 binlog日志文件定位后的内容及下一个指定更新的位置返回给SLAVE。

3.SLAVE将收到的信息存储到 RELAY_LOG中，将最新的BINLOG日志位置信息更新到MASTER_INFO中

4.SLAVE中的SQL线程实时检测本地RELAY_LOG中的新增日志，解析执行并更新RELAY_INFO中的下一个指定更新位置。