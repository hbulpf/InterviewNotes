<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>设计模式 | InterviewNotes</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="面试笔记">
    <link rel="preload" href="/dist/assets/css/0.styles.bc566d1e.css" as="style"><link rel="preload" href="/dist/assets/js/app.0568611e.js" as="script"><link rel="preload" href="/dist/assets/js/2.9ef5e12b.js" as="script"><link rel="preload" href="/dist/assets/js/15.6c0c41ee.js" as="script"><link rel="prefetch" href="/dist/assets/js/10.cbb282fc.js"><link rel="prefetch" href="/dist/assets/js/11.a76da31d.js"><link rel="prefetch" href="/dist/assets/js/12.63537805.js"><link rel="prefetch" href="/dist/assets/js/13.be77d877.js"><link rel="prefetch" href="/dist/assets/js/14.82272afd.js"><link rel="prefetch" href="/dist/assets/js/16.ae72da79.js"><link rel="prefetch" href="/dist/assets/js/17.51c374dd.js"><link rel="prefetch" href="/dist/assets/js/18.9a95b4a5.js"><link rel="prefetch" href="/dist/assets/js/19.839c51be.js"><link rel="prefetch" href="/dist/assets/js/20.dbda0b80.js"><link rel="prefetch" href="/dist/assets/js/21.e017f7bb.js"><link rel="prefetch" href="/dist/assets/js/22.02fa06cd.js"><link rel="prefetch" href="/dist/assets/js/23.21b9aa86.js"><link rel="prefetch" href="/dist/assets/js/24.3d5de168.js"><link rel="prefetch" href="/dist/assets/js/25.fdce143c.js"><link rel="prefetch" href="/dist/assets/js/26.fe7b47f6.js"><link rel="prefetch" href="/dist/assets/js/27.d9872730.js"><link rel="prefetch" href="/dist/assets/js/28.efdeafac.js"><link rel="prefetch" href="/dist/assets/js/29.54246e07.js"><link rel="prefetch" href="/dist/assets/js/3.d8a31682.js"><link rel="prefetch" href="/dist/assets/js/30.a6c83ac7.js"><link rel="prefetch" href="/dist/assets/js/31.2be3b219.js"><link rel="prefetch" href="/dist/assets/js/32.9af3616a.js"><link rel="prefetch" href="/dist/assets/js/33.6b31dfc4.js"><link rel="prefetch" href="/dist/assets/js/34.52c2a972.js"><link rel="prefetch" href="/dist/assets/js/35.fadd7bda.js"><link rel="prefetch" href="/dist/assets/js/36.73f2576d.js"><link rel="prefetch" href="/dist/assets/js/37.78b40203.js"><link rel="prefetch" href="/dist/assets/js/38.7e4a6326.js"><link rel="prefetch" href="/dist/assets/js/39.10f952ca.js"><link rel="prefetch" href="/dist/assets/js/4.5ed19beb.js"><link rel="prefetch" href="/dist/assets/js/40.8638dba5.js"><link rel="prefetch" href="/dist/assets/js/41.532c5b33.js"><link rel="prefetch" href="/dist/assets/js/42.b7b9d2c2.js"><link rel="prefetch" href="/dist/assets/js/43.bd67905b.js"><link rel="prefetch" href="/dist/assets/js/44.57ac159c.js"><link rel="prefetch" href="/dist/assets/js/45.b3f04573.js"><link rel="prefetch" href="/dist/assets/js/5.feba2b90.js"><link rel="prefetch" href="/dist/assets/js/6.88ba836a.js"><link rel="prefetch" href="/dist/assets/js/7.29e8ee4b.js"><link rel="prefetch" href="/dist/assets/js/8.2f455837.js"><link rel="prefetch" href="/dist/assets/js/9.0482d59f.js">
    <link rel="stylesheet" href="/dist/assets/css/0.styles.bc566d1e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dist/" class="home-link router-link-active"><!----> <span class="site-name">InterviewNotes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dist/Java/" class="nav-link router-link-active">
  Java
</a></div><div class="nav-item"><a href="/dist/算法/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/dist/计算机网络/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/dist/数据库/" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/dist/操作系统/" class="nav-link">
  操作系统
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="others" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="others" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dist/Android.html" class="nav-link">
  Android
</a></li><li class="dropdown-item"><!----> <a href="/dist/hadoop/" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/dist/面经/" class="nav-link">
  面经
</a></li><li class="dropdown-item"><!----> <a href="/dist/运维开发/" class="nav-link">
  运维开发
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dist/Java/" class="nav-link router-link-active">
  Java
</a></div><div class="nav-item"><a href="/dist/算法/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/dist/计算机网络/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/dist/数据库/" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/dist/操作系统/" class="nav-link">
  操作系统
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="others" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="others" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dist/Android.html" class="nav-link">
  Android
</a></li><li class="dropdown-item"><!----> <a href="/dist/hadoop/" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/dist/面经/" class="nav-link">
  面经
</a></li><li class="dropdown-item"><!----> <a href="/dist/运维开发/" class="nav-link">
  运维开发
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/dist/Java/" aria-current="page" class="sidebar-link">Java</a></li><li><a href="/dist/Java/设计模式.html" class="active sidebar-link">设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dist/Java/设计模式.html#基本模式" class="sidebar-link">基本模式</a></li><li class="sidebar-sub-header"><a href="/dist/Java/设计模式.html#问题" class="sidebar-link">问题</a></li></ul></li><li><a href="/dist/Java/Java面试题1.html" class="sidebar-link">Java面试题1</a></li><li><a href="/dist/Java/Java面试题2.html" class="sidebar-link">Java面试题2</a></li><li><a href="/dist/Java/Java面试题3.html" class="sidebar-link">Java面试题3</a></li><li><a href="/dist/Java/JVM.html" class="sidebar-link">JVM</a></li><li><a href="/dist/Java/NIO.html" class="sidebar-link">NIO</a></li><li><a href="/dist/Java/Spring.html" class="sidebar-link">Spring</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="设计模式"><a href="#设计模式" class="header-anchor">#</a> 设计模式</h1> <h2 id="基本模式"><a href="#基本模式" class="header-anchor">#</a> 基本模式</h2> <ol><li>适配器模式</li></ol> <ul><li>适用场景
a.系统需要重用现有类 来配合新接口功能
b.将彼此无关联的类组装起来一起使用</li></ul> <ol start="2"><li>外观模式</li></ol> <ul><li>适用场景</li></ul> <p>a.为一系列子系统提供一个统一的简单入口</p> <p>b.解耦子系统与客户端</p> <p>c.在层次化结构中为每一层定义入口，降低层之间的耦合度</p> <ol start="3"><li>代理模式</li></ol> <ul><li>适用场景
a.控制对象访问
b.引入额外操作</li></ul> <ol start="4"><li>责任链模式</li></ol> <ul><li>适用场景
a.有多个对象可以处理同一请求
b.动态处理一组对象请求时可以改变其优先顺序
c.责任链不宜过长，避免死循环</li></ul> <ol start="5"><li>观察者模式</li></ol> <ul><li>适用场景
a.在一个抽象模型中，一方面依赖另一方面，将这两方面封装在独立的对象中，使各自独立改变和复用
b.一个对象的改变会导致一个或多个其他对象也发生改变
c.需要创建一个顺序触发链</li></ul> <ol start="6"><li>策略模式</li></ol> <ul><li>适用场景
a.一个系统动态地在几种算法中选择一种
b.有多个条件语句，需要将其转到具体的策略中实现
c.不希望调用者知道复杂的与算法相关的数据结构，隐藏底层实现细节</li></ul> <h2 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h2> <ol><li>装饰模式和代理模式有哪些区别？</li></ol> <ul><li>技术点：装饰模式、代理模式</li> <li>参考回答：
<ul><li>使用目的不同：代理模式是给目标对象提供一个代理对象，并由代理对象控制对目标对象的引用；装饰模式是在不必改变原类文件和使用继承的情况下，动态地扩展一个对象的功能</li> <li>构造不同：代理模式内部保持对目标对象的引用；装饰模式是通过构造函数传参的方式得到目标对象</li></ul></li></ul> <ol><li>实现单例模式有几种方法？懒汉式中双层锁的目的是什么？两次判空的目的又是什么？</li></ol> <ul><li>技术点：单例模式</li> <li>参考回答：实现单例模式常见的两种方式：</li></ul> <p>（1）懒汉式：延迟加载，同时也要保证多线程环境下会产生多个single对象</p> <div class="language- extra-class"><pre class="language-text"><code>public class Singleton {

    private Singleton() {}
    pprivate volatile static Singleton instance;//第一层锁：保证变量可见性

    public static Singleton getInstance() {
        if (single == null) {//第一次判空：无需每次都加锁，提高性能
            synchronized (Singleton.class) {//第二层锁：保证线程同步
                if (single == null) {//第二次判空:避免多线程同时执行getInstance()产生多个single对象
                    single = new Singleton();
                }
            }
        }
        return single;
    }
}
</code></pre></div><p>（2）饿汉式：在类加载初始化时就创建好一个静态的对象供外部使用</p> <div class="language- extra-class"><pre class="language-text"><code>public class Singleton {     
    private Singleton() {}    
    private static Singleton single = new Singleton();     
    public static Singleton getInstance() {        
        return single;    
    } 
} 

</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>1.谈谈了解的设计模式原则？
</code></pre></div><ul><li>技术点：设计模式原则</li> <li>参考回答：
<ul><li>单一职责原则：一个类只负责一个功能领域中的相应职责</li> <li>开放封闭原则：对扩展开放，对修改关闭</li> <li>依赖倒置原则：抽象不应该依赖于细节，细节应当依赖于抽象。换言之，要针对接口编程，而不是针对实现编程</li> <li>迪米特法则：应该尽量减少对象之间的交互，如果两个对象之间不必彼此直接通信，那么这两个对象就不应当发生任何直接的相互作用，如果其中的一个对象需要调用另一个对象的某一个方法的话，可以通过第三者转发这个调用</li> <li>合成/聚合复用原则：要尽量使用合成/聚合，尽量不要使用继承</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>1. 谈谈MVC、MVP和MVVM，好在哪里，不好在哪里？
</code></pre></div><ul><li><p>技术点：MVC、MVP、MVVM</p></li> <li><p>思路：详见<a href="https://www.jianshu.com/p/e0867ac2a261" target="_blank" rel="noopener noreferrer">MVP、MVVM模式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>参考回答：</p> <ul><li><p>MVP的含义：</p> <ul><li><strong>Model</strong>：数据层，负责存储、检索、操纵数据。</li> <li><strong>View：UI</strong>层，显示数据，并向Presenter报告用户行为。</li> <li><strong>Presenter</strong>：作为View与Model交互的中间纽带，从Model拿数据，应用到UI层，管理UI的状态，响应用户的行为。</li></ul></li> <li><p>MVP相比于MVC的</p> <p>优势</p> <p>：</p> <ul><li>分离了视图逻辑和业务逻辑，降低了耦合。</li> <li>Activity只处理生命周期的任务，代码变得更加<strong>简洁</strong>。</li> <li>视图逻辑和业务逻辑分别抽象到了View和Presenter的<strong>接口</strong>中去，提高代码的可阅读性。</li> <li>Presenter被抽象成接口，可以有多种具体的实现，所以方便进行<strong>单元测试</strong>。</li> <li>把业务逻辑抽到Presenter中去，避免后台线程引用着Activity导致Activity的资源无法被系统回收从而引起<strong>内存泄露</strong>和OOM。</li></ul></li> <li><p>MVVM的含义：与MVP类似，利用<strong>数据绑定</strong>(Data Binding)、<strong>依赖属性</strong>(Dependency Property)、<strong>命令</strong>(Command)、<strong>路由事件</strong>(Routed Event)等新特性，打造了一个更加灵活高效的架构。</p></li> <li><p>MVVM相比于MVP的<strong>优势</strong>：在常规的开发模式中，数据变化需要更新UI的时候，需要先获取UI控件的引用，然后再更新UI，获取用户的输入和操作也需要通过UI控件的引用，但在MVVM中，这些都是通过<strong>数据驱动</strong>来自动完成的，数据变化后会自动更新UI，UI的改变也能自动反馈到数据层，数据成为主导因素。这样MVVM层在业务逻辑处理中只要关心数据，不需要直接和UI打交道，在业务处理过程中简单方便很多。</p></li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>1. 如何理解生产者消费者模型？
</code></pre></div><ul><li>技术点：生产者消费者模型</li> <li>参考回答：生产者消费者模型通过一个缓存队列，既解决了生产者和消费者之间强耦合的问题，又平衡了生产者和消费者的处理能力。
<ul><li>具体规则：生产者只在缓存区未满时进行生产，缓存区满时生产者进程被阻塞；消费者只在缓存区非空时进行消费，缓存区为空时消费者进程被阻塞；当消费者发现缓存区为空时会通知生产者生产；当生产者发现缓存区满时会通知消费者消费。</li> <li>实现关键：synchronized保证对象只能被一个线程占用；wait()让当前线程进入等待状态，并释放它所持有的锁；notify()&amp;notifyAll()唤醒一个（所有）正处于等待状态的线程</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>1. 是否能从Android中举几个例子说说用到了什么设计模式？
</code></pre></div><ul><li>技术点：设计模式</li> <li>参考回答：
<ul><li>View事件分发：责任链模式</li> <li>BitmapFactory加载图片：工厂模式</li> <li>Adapter：适配器模式</li> <li>Builder：建造者模式</li> <li>Adpter.notifyDataSetChanged()：观察者模式</li> <li>Binder机制：代理模式</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/24/2020, 1:15:01 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dist/Java/" class="prev router-link-active">
        Java
      </a></span> <span class="next"><a href="/dist/Java/Java面试题1.html">
        Java面试题1
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/dist/assets/js/app.0568611e.js" defer></script><script src="/dist/assets/js/2.9ef5e12b.js" defer></script><script src="/dist/assets/js/15.6c0c41ee.js" defer></script>
  </body>
</html>
